{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport HeaderComp from \"./HeaderComp.vue\";\nimport LayoutComp from \"./LayoutComp.vue\";\nimport Resume from \"./Resume/IndexComp.vue\";\nimport Movements from \"./Movements/IndexMov.vue\";\nimport ActionComp from \"./ActionComp.vue\";\nimport GraphicComp from \"./Resume/GraphicComp.vue\";\nexport default {\n  components: {\n    LayoutComp: LayoutComp,\n    HeaderComp: HeaderComp,\n    Resume: Resume,\n    Movements: Movements,\n    ActionComp: ActionComp,\n    GraphicComp: GraphicComp\n  },\n  data: function data() {\n    return {\n      amount: null,\n      label: null,\n      totalamount: \"1000000\",\n      movs: []\n    };\n  },\n  computed: {\n    amounts: function amounts() {\n      var lastDays = this.movs.filter(function (m) {\n        var today = new Date();\n        var oldDate = today.setDate(today.getDate() - 30);\n        return m.time > oldDate;\n      }).map(function (m) {\n        return m.amount;\n      });\n      return lastDays.map(function (m, i) {\n        var lastMovements = lastDays.slice(0, i);\n        return lastMovements.reduce(function (suma, movement) {\n          return suma + movement;\n        }, 0);\n      });\n    }\n  },\n  methods: {\n    create: function create(movement) {\n      this.movs.push(movement);\n      this.save();\n    },\n    borrar: function borrar(id) {\n      var index = this.movs.findIndex(function (m) {\n        return m.id == id;\n      });\n      this.movs.splice(index, 1);\n      this.save;\n    },\n    save: function save() {\n      localStorage.setItem(\"movs\", this.movs);\n    }\n  }\n};","map":{"version":3,"names":["HeaderComp","LayoutComp","Resume","Movements","ActionComp","GraphicComp","components","data","amount","label","totalamount","movs","computed","amounts","lastDays","filter","m","today","Date","oldDate","setDate","getDate","time","map","i","lastMovements","slice","reduce","suma","movement","methods","create","push","save","borrar","id","index","findIndex","splice","localStorage","setItem"],"sources":["/home/wilker/Desktop/cashFlowVue/src/components/HomeComp.vue"],"sourcesContent":["<template>\n  <LayoutComp>\n    <!-- Header -->\n    <template #header>\n      <HeaderComp />\n    </template>\n\n    <!-- Index -->\n    <template #resume>\n      <Resume :label=\"label\" :amount=\"amount\" :totalAmount=\"totalamount\">\n        <template #graphic>\n          <GraphicComp :amounts=\"amounts\"></GraphicComp>\n        </template>\n        <template #action>\n          <ActionComp @create=\"create\"/>\n        </template>\n      </Resume>\n    </template>\n\n    <!-- List movements -->\n    <template #movements>\n      <Movements :movements=\"movs\" @borrar=\"borrar\"/>\n    </template>\n\n  </LayoutComp>\n</template>\n<script>\nimport HeaderComp from \"./HeaderComp.vue\";\nimport LayoutComp from \"./LayoutComp.vue\";\nimport Resume from \"./Resume/IndexComp.vue\";\nimport Movements from \"./Movements/IndexMov.vue\";\nimport ActionComp from \"./ActionComp.vue\";\nimport GraphicComp from \"./Resume/GraphicComp.vue\";\n\nexport default {\n  components: {\n    LayoutComp,\n    HeaderComp,\n    Resume,\n    Movements,\n    ActionComp,\n    GraphicComp\n},\n  data() {\n    return {\n      amount: null,\n      label: null,\n      totalamount: \"1000000\",\n      movs: []\n    };\n  },\n  computed : {\n    amounts() {\n      const lastDays = this.movs\n        .filter( m => {\n          const today = new Date();\n          const oldDate = today.setDate(today.getDate() - 30);\n\n          return m.time > oldDate\n        })\n        .map(m => m.amount)\n\n      return lastDays.map((m, i) => {\n        const lastMovements = lastDays.slice(0, i);\n\n        return lastMovements.reduce((suma, movement) => {\n          return suma + movement\n        }, 0);\n\n      }); \n    }\n  },\n  methods: {\n    create(movement) {\n      this.movs.push(movement);\n      this.save()\n    },\n    borrar(id) {\n      const index = this.movs.findIndex( m => m.id == id);\n      this.movs.splice(index,1);\n      this.save\n    },\n    save() {\n      localStorage.setItem(\"movs\", this.movs)\n    }\n  }\n}\n</script>"],"mappings":";;;;;;;;;AA2BA,OAAOA,UAAS,MAAO,kBAAkB;AACzC,OAAOC,UAAS,MAAO,kBAAkB;AACzC,OAAOC,MAAK,MAAO,wBAAwB;AAC3C,OAAOC,SAAQ,MAAO,0BAA0B;AAChD,OAAOC,UAAS,MAAO,kBAAkB;AACzC,OAAOC,WAAU,MAAO,0BAA0B;AAElD,eAAe;EACbC,UAAU,EAAE;IACVL,UAAU,EAAVA,UAAU;IACVD,UAAU,EAAVA,UAAU;IACVE,MAAM,EAANA,MAAM;IACNC,SAAS,EAATA,SAAS;IACTC,UAAU,EAAVA,UAAU;IACVC,WAAU,EAAVA;EACJ,CAAC;EACCE,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,IAAI;MACZC,KAAK,EAAE,IAAI;MACXC,WAAW,EAAE,SAAS;MACtBC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,QAAO,EAAI;IACTC,OAAO,WAAAA,QAAA,EAAG;MACR,IAAMC,QAAO,GAAI,IAAI,CAACH,IAAG,CACtBI,MAAM,CAAE,UAAAC,CAAA,EAAK;QACZ,IAAMC,KAAI,GAAI,IAAIC,IAAI,CAAC,CAAC;QACxB,IAAMC,OAAM,GAAIF,KAAK,CAACG,OAAO,CAACH,KAAK,CAACI,OAAO,CAAC,IAAI,EAAE,CAAC;QAEnD,OAAOL,CAAC,CAACM,IAAG,GAAIH,OAAM;MACxB,CAAC,EACAI,GAAG,CAAC,UAAAP,CAAA;QAAA,OAAKA,CAAC,CAACR,MAAM;MAAA;MAEpB,OAAOM,QAAQ,CAACS,GAAG,CAAC,UAACP,CAAC,EAAEQ,CAAC,EAAK;QAC5B,IAAMC,aAAY,GAAIX,QAAQ,CAACY,KAAK,CAAC,CAAC,EAAEF,CAAC,CAAC;QAE1C,OAAOC,aAAa,CAACE,MAAM,CAAC,UAACC,IAAI,EAAEC,QAAQ,EAAK;UAC9C,OAAOD,IAAG,GAAIC,QAAO;QACvB,CAAC,EAAE,CAAC,CAAC;MAEP,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,MAAM,WAAAA,OAACF,QAAQ,EAAE;MACf,IAAI,CAAClB,IAAI,CAACqB,IAAI,CAACH,QAAQ,CAAC;MACxB,IAAI,CAACI,IAAI,CAAC;IACZ,CAAC;IACDC,MAAM,WAAAA,OAACC,EAAE,EAAE;MACT,IAAMC,KAAI,GAAI,IAAI,CAACzB,IAAI,CAAC0B,SAAS,CAAE,UAAArB,CAAA;QAAA,OAAKA,CAAC,CAACmB,EAAC,IAAKA,EAAE;MAAA,EAAC;MACnD,IAAI,CAACxB,IAAI,CAAC2B,MAAM,CAACF,KAAK,EAAC,CAAC,CAAC;MACzB,IAAI,CAACH,IAAG;IACV,CAAC;IACDA,IAAI,WAAAA,KAAA,EAAG;MACLM,YAAY,CAACC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC7B,IAAI;IACxC;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}